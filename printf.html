<html>
  <head>
<title>How does printf work?</title>
</head>
<body>
<h1>How does printf work?</h1>

When you press a key in the Qemu window, it will appear on
screen. This may appear as basic functionality, but a lot is going on
under the covers:

<ul>
  <li>A process is reading keypresses (from <tt>stdin</tt>)
  <li>Once it receives a key, it decides to put it on the screen
  (using libc's <tt>putc()</tt> to send it to <tt>stdout</tt>, for
  example)
  <li>libc requests the kernel to display the character by performing
  the <tt>write()</tt> system call.
  <li>This system call enters the kernel at the <tt>sys_write()</tt> function.
</ul>

<h2>Assignment</h2>

Starting with a breakpoint in <tt>sys_write()</tt>, see if you can
find out how the character ends up on screen.

<p><b>Hint</b>: You should end up in a function
called <tt>do_con_write</tt>, which calls <tt>scr_writew()</tt>

<p><b>Question</b>: If you log in via ssh, will you use the same code?
From where are things different?

<p><b>Question</b>: Now that we've traced writing characters, reading
them should be a piece of cake <tt>:-)</tt>

<hr>
<address>
<a href="mailto:kees-jan.dijkzeul@sioux.eu">Kees-Jan Dijkzeul</a>
</address>
</body>
</html>
